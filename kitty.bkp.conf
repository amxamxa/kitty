### kitty.conf - Terminal Emulator Configuration
## This configuration file controls the behavior and appearance of the kitty terminal emulator.
## kitty Konfiguration: kitty.conf
# echo $KITTY_CONFIG_DIRECTORY = /share/kitty
# ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
#       `7MM       db   mm     mm
#         MM            MM     MM
#         MM  ,MP`7MM mmMMmm mmMMmm `7M'   `MF'
#         MM ;Y    MM   MM     MM     VA   ,V
#         MM;Mm    MM   MM     MM      VA ,V
#         MM `Mb.  MM   MM     MM       VVV
#                                      ,V    .d' ""
#                                   OOb"     dM`
#               ,p6"bo   ,pW"Wq.`7MMpMMMb.  mMMmm
#              6M'  OO  6W'   `Wb MM    MM   MM
#              8M       8M     M8 MM    MM   MM
#           ,, YM.    , YA.   ,A9 MM    MM   MM
#           db  YMbmd'   `Ybmd9'.JMML  JMML.JMML.
# ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
# 	kitty --debug-gl, --debug-rendering,
#   --debug-input, --debug-keyboard, --debug-font-fallback
## --------------------------------------------------------------------------------------

### [1] INITIALIZATION AND DEBUGGING
# ---------------------------------------------------------------------------------------
 # Include *.conf files from all subdirs of kitty.d inside the kitty config dir
 # globinclude kitty.d/**/*.conf
 # Include the *contents* of all env vars starting with KITTY_CONF_
 envinclude KITTY_CONF_*
# Includes additional configuration files
include ./kitty.d/etc.conf        
# System-wide settings
include ./kitty.d/mousecut.conf 
  # Mouse selection behaviors

# Global modifier key combination (acts as shortcut prefix).  # Requires modifier keys only (no regular keys)

kitty_mod super+shift    

# Debugging shortcuts
map kitty_mod+1 show_kitty_doc overview   
 # Display documentation
map kitty_mod+3 debug_config             
  # Validate configuration syntax
map kitty_mod+2 load_config_file        
    # Reload config without restart

### [2] WINDOW MANAGEMENT
# ---------------------------------------------------------------------------------------
# Behavior
focus_follows_mouse yes           # Window focus follows mouse cursor
# Delay before resizing (prevents flicker)

resize_debounce_time 0.1 0.5      
resize_in_steps yes               # Resize in discrete increments

# Layouts
enabled_layouts tall,fat,grid,horizontal,vertical,stack,splits  

# Layout switching shortcuts
map ctrl+1 goto_layout grid
map ctrl+2 goto_layout stack
map ctrl+3 goto_layout fat:bias=50;full_size=1;mirrored=false  # Fat layout with 50% bias
map ctrl+4 goto_layout tall:bias=50;full_size=1;mirrored=false # Tall layout with 50% bias
map ctrl+5 goto_layout vertical
map ctrl+6 next_layout            # Cycle through enabled layouts

# Window operations
map kitty_mod+t launch --cwd=current --type=tab      # New tab
map super+enter launch --cwd=current --location=vsplit  # Vertical split
map alt+q close_window            # Close current window
map alt+r close_tab               # Close current tab

# Window resizing
map kitty_mod+a resize_window narrower
map kitty_mod+d resize_window wider
map kitty_mod+w resize_window shorter
map kitty_mod+s resize_window taller
window_resize_step_cells 3
window_resize_step_lines 3

### [3] VISUAL APPEARANCE
# ---------------------------------------------------------------------------------------
# Color Scheme -> neowave.e, darkmxx.conf
# include darkmxx.conf    # Color scheme overrides
include ./kitty.d/neowave.conf    # Color scheme overrides
# foreground #f8eec4        # Text color (light cream)
# background #131416        # Base background (dark gray)
# cursor_text_color #d730b2        # Text color under cursor (magenta)
# cursor #ff0017                   # Cursor color (vibrant red)

# Background Effects
background_image ../pictures/redsun_breiter.png  # Image path (relative to config)
background_image_layout cscaled      
# Scale to cover while preserving aspect
# Gaussian blur intensity
background_blur 64                   
background_tint 0.8   
# Color overlay intensity
background_opacity 0.85              
# Base transparency level
dynamic_background_opacity yes       # Auto-adjust opacity for inactive windows

# Window Decoration
window_logo_path ../pictures/logo/nixos-small.png  
# Top-right logo
window_logo_alpha 0.4                
# Logo transparency
window_border_width 2.5pt            
# Border thickness
active_border_color #ffb300          
# Highlight color for active window
inactive_border_color #0d3149        
# Subtle color for inactive windows
window_padding_width 6 6 2 2         
# Padding: top/bottom, left/right

# Transparency Controls
map super+5 set_background_opacity -0.3 
# Decrease opacity
map super+6 set_background_opacity +0.3  
# Increase opacity

### [4] TAB MANAGEMENT
# ---------------------------------------------------------------------------------------
# Tab Bar Configuration
tab_bar_edge top            # Position at top of window
tab_bar_align center        
# Title alignment
tab_bar_style fade          
# Visual style (fade inactive tabs)
tab_separator '☭ '          # Separator between tabs
tab_activity_symbol '󰯈 '    # Indicator for background activity

# Tab Coloring
active_tab_foreground #ABFB5A      
 # Active tab text (vibrant green)
active_tab_background #243A20     
 # Active tab background (dark green)
inactive_tab_foreground #8F18BA     
# Inactive tab text (purple)
inactive_tab_background #390C49     
# Inactive tab background (dark purple)

# Tab Title Format
## micro at 'pwd'
# tab_title_template "{fmt.fg.green}{bell_symbol}{activity_symbol}{fmt.fg.tab}{tab.active_exe}@'{tab.active_wd}'"

##   python  /src (mit Nerd Font Icons)
tab_title_template "{fmt.fg.yellow} {fmt.fg.tab}{tab.active_exe} {fmt.fg.cyan} {fmt.fg.tab}{tab.active_wd}"


### [5] TEXT AND FONT RENDERING
# ---------------------------------------------------------------------------------------
# Font Selection
font_family 	FiraCode Regular
# Agave Nerd Font Mono  # Primary typeface
font_size 		13.0                    
# Base font size
bold_font 		VictorMono Nerd Font
italic_font 	TT2020 Style B
      

# Font Features (OpenType)
font_features 			Agave-Nerd-Font-Mono +ss02 +dlig -calt  
# Stylistic Set 02 + Discretionary Ligatures
font_features 			VictorMono-Nerd-Font-Mono +onum +ss01 +zero -liga  
# Old-style Numbers + Slashed Zero
# https://github.com/tonsky/FiraCode/wiki/How-to-enable-stylistic-sets
font_features FiraCode-Regular +cv01 +cv02 +cv05 +cv14 +cv17 +cv18 +cv16 +cv31 +cv29 +cv30 +ss01 +ss02 +ss03 +ss04 +ss05 +ss07 +ss08 +ss10 +zero +onum

font_features TT2020StyleB-Regular -liga +calt
font_features UnifontMedium +isol -medi -fina -init

font_features           Hack-Nerd-Font-Mono +zero +tnum +calt
font_features           VictorMono-Nerd-Font-Mono +onum +ss01 +zero -liga
narrow_symbols          U+E0A0-U+E0A3,U+E0C0-U+0C7 1
# Font Adjustments
box_drawing_scale       0.001, 1, 1.5, 2
modify_font underline_position -1       
# Raise underlines
modify_font underline_thickness 150% 
modify_font strikethrough_position 2px   
# Thicker underlines
modify_font cell_width 90%   
modify_font cell_height -2px           
# Narrower character spacing
modify_font baseline 3                  
# Vertical alignment shift
# sizes of the lines used for the box drawing Unicode characters
box_drawing_scale       0.001, 1, 1.5, 2
# Thin and thick control the thickness of the undercurl. Sparse and dense control how often the curl oscillates. 
undercurl_style thick - dense
underline_exclusion 1

### [6] CURSOR CUSTOMIZATION
# ---------------------------------------------------------------------------------------
cursor_shape beam                
# I-beam style cursor
cursor_beam_thickness 9          
# I-beam thickness (pixels)
cursor_blink_interval 0.5        
# Blink speed (seconds)
cursor_stop_blinking_after 30.0
cursor_trail 5                  
# Motion trail length
cursor_trail_decay 0.3 0.9       
# Trail fade-out parameters
cursor_trail_start_threshold 2
# distance threshold for starting the cursor trai
cursor_shape_unfocused hollow
cursor_underline_thickness 2.0
pointer_shape_when_grabbed arrow
pointer_shape_when_dragging beam crosshair

### [7] SCROLLBACK AND CLIPBOARD
# ---------------------------------------------------------------------------------------
# Scrollback Configuration
scrollback_lines 10000          
 # History size (lines)
 scrollback_pager kitty @ launch --type=overlay --cwd=current --title=SearchResults 	sh -c 'rg --color=always --smart-case --line-number "{search_term}" | less --RAW-CONTROL-CHARS --no-init --quit-if-one-screen'
 # scrollback_pager less --chop-long-lines +INPUT_LINE_NUMBER 
 # Pager command
wheel_scroll_multiplier 15       

# Clipboard Integration
copy_on_select yes              
 # Auto-copy on text selection
clipboard_control write-clipboard write-primary read-clipboard-ask read-primary-ask  
# Access permissions

# Clipboard Shortcuts
map ctrl+c copy_to_clipboard
map ctrl+v paste_from_clipboard
map super+F9 pass_selection_to_program gnome-text-editor --ignore-session --standalone --new-window  
# Open selection in text editor

### [8] ADVANCED BEHAVIORS
# ---------------------------------------------------------------------------------------
# URL Handling
url_color #b7f274             
   # URL highlight color
url_style curly                  
# Underline style
underline_hyperlinks hover      
 # Only underline on mouseover
show_hyperlink_targets  yes
strip_trailing_spaces   smart
# Notification System
notify_on_cmd_finish invisible 10.0 command notify-send "job finished with status: %s" %c 
 # Desktop notifications
bell_on_tab '☘️ '                
# Tab indicator for terminal bells

# Terminal Protocols
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh 
 # Recognized URL schemes

# Mouse Selection
select_by_word_characters @-./_~?&=%+# 
 # Characters considered part of words

### [9] PERFORMANCE AND COMPATIBILITY
# ---------------------------------------------------------------------------------------
sync_to_monitor yes             
 # Synchronize rendering with monitor refresh
text_composition_strategy platform  
# Use OS-specific text rendering
update_check_interval 24         
remember_window_size yes         
# Persist window dimensions
initial_window_width 640         
# Default width (pixels)
initial_window_height 400       
 # Default height (pixels)
